<!DOCTYPE html>
<!-- saved from url=(0046)https://ebenewcar.jp/bpm_demo/Sagyotyudan.aspx -->
<html lang="en" style="" class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>
	 - BP Management System for mobile
</title><script src="./BPM_Sagyotyudan_files/modernizr-2.8.3.js"></script>
<link href="./BPM_Sagyotyudan_files/bootstrap.css" rel="stylesheet">
<link href="./BPM_Sagyotyudan_files/Site.css" rel="stylesheet">
<link href="https://ebenewcar.jp/bpm_demo/favicon.ico" rel="shortcut icon" type="image/x-icon"></head>
<body>
    <form method="post" action="./BPM_Sagyotyudan.aspx" id="ctl01">
<div class="aspNetHidden">
<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="">
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="">
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="4ohVnItbLO7u359z3SdU+0kwV0yqLy14W/CZO5NDhyYtp/KFLg5xUAq88aJXD3btjRcgVJGIIhms6tQFxJvIPvfaGbTggqh21yoTdoTQ0AxtY8c14BEy7NYUjUsbx57jCexUOqD+vXt3cDeLPA0lxOj9PxjlhJrtxs1hAlKoqHn4SeweGcPbDmnBWeNarK2ptIcnFKG+ptAl7YtclnBwzQ==">
</div>

<script type="text/javascript">
//<![CDATA[
var theForm = document.forms['ctl01'];
if (!theForm) {
    theForm = document.ctl01;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
//]]>
</script>



<script src="./BPM_Sagyotyudan_files/MsAjaxJs" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
if (typeof(Sys) === 'undefined') throw new Error('ASP.NET Ajax クライアント側フレームワークを読み込めませんでした。');
//]]>
</script>

<script src="./BPM_Sagyotyudan_files/jquery-3.3.1.js" type="text/javascript"></script>
<script src="./BPM_Sagyotyudan_files/bootstrap.js" type="text/javascript"></script>
<script src="./BPM_Sagyotyudan_files/WebFormsJs" type="text/javascript"></script>
<div class="aspNetHidden">

	<input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="657D1A91">
</div>
        <script type="text/javascript">
//<![CDATA[
Sys.WebForms.PageRequestManager._initialize('ctl00$ctl09', 'ctl01', [], [], [], 90, 'ctl00');
//]]>
</script>


        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a href="https://ebenewcar.jp/bpm_demo/" class="navbar-brand">BP Management System for mobile</a>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <!--<li><a href="./">ホーム</a></li>-->
                        <!--<li><a href="About">詳細</a></li>-->
                        <!--<li><a href="Contact">問い合わせ</a></li>-->
                    </ul>
                    
                            <ul class="nav navbar-nav navbar-right">
                                <!--<li><a href="Account/Register">登録</a></li>-->
                                <!--<li><a href="Account/Login">ログイン</a></li>-->
                            </ul>
                        
                </div>
            </div>
        </div>
        <div class="container body-content">
            

    <div class="jumbotron">
        <h2>BPM for mobile</h2>

        <div class="col-xs-6">
            <p class="lead text-right">担当者：</p>
        </div>
        <div class="col-xs-6">
            <p class="lead">鈑金担当A</p>
        </div>

    </div>

    <style>
        /* 全体調整 */
        .main-container { padding: 10px; background-color: #f9f9f9; }
        
        /* ヘッダー部分 */
        .header-info { margin-bottom: 20px; }
        
        /* チェックボックスの大型化 */
        .large-check { 
            width: 30px; height: 30px; 
            cursor: pointer; 
            vertical-align: middle;
            margin: 0 auto;
        }

        /* 作業部位の行 */
        .work-row {
            background-color: #fff;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
        }

        /* カメラボタンのカスタマイズ */
        .camera-btn-wrapper {
            position: relative;
            display: inline-block;
        }
        .camera-btn-label {
            display: inline-block;
            background-color: #5bc0de;
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.2em;
            margin-bottom: 0;
        }
        .camera-btn-label:active { background-color: #31b0d5; }
        #cameraInput { display: none; }

        /* 写真プレビュー */
        #previewContainer {
            margin-top: 15px;
            text-align: center;
            border: 2px dashed #ccc;
            padding: 10px;
            border-radius: 8px;
            min-height: 100px;
            background: #fff;
        }
        #myPhoto {
            max-width: 100%;
            height: auto;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        /* ラベルの幅調整 */
        .info-label { font-weight: bold; min-width: 70px; display: inline-block; }

        .btn:disabled {
            opacity: 0.3 !important; /* より薄くする */
            cursor: not-allowed;     /* マウスカーソルを禁止マークに */
        }

        /* ラジオボタンにチェックが入ったら、その親(label)の色を変える */
        .list-group-item has(:checked) {
            background-color: #d9edf7; /* 薄い青 */
            font-weight: bold;
        }
    
        /* 古いブラウザ（古いAndroidなど）向けの予備設定 */
        .list-group-item input:checked + span {
            color: #31708f;
        }

        /* 選択された時の色（Bootstrapの標準色に合わせる場合） */
        .list-group-item.active-row {
            background-color: #d9edf7 !important; /* 薄い青 */
            color: #31708f !important;           /* 濃い青文字 */
            border-color: #bce8f1 !important;
        }
    </style>

    <div class="row">
        <div class="col-md-6">

            <div class="well" style="padding: 10px; margin-top: 20px;">
                <div class="row">
                    <div class="col-xs-4">
                        <span class="label label-info"><strong>現在日時</strong></span>
                    </div>
                    <div class="col-xs-8">

                        <!-- ここにJavaScriptで日時が流し込まれます -->
                        <span id="current-datetime">2026年02月03日 17:21</span>

                    </div>
                </div>
                <hr style="margin: 10px 0;">
                <div class="row">
                    <div class="col-xs-4">
                        <span class="label label-info"><strong>受付番号</strong></span>
                    </div>
                    <div class="col-xs-8">
                        <span>20260101001-0000</span>
                    </div>
                </div>
                <hr style="margin: 10px 0;">
                <div class="row">
                    <div class="col-xs-4">
                        <span class="label label-info">車名</span>
                    </div>
                    <div class="col-xs-8">
                        ｱｸｾﾗ DBA-BM5FP
                    </div>
                </div>
                <hr style="margin: 10px 0;">
                <div class="row">
                    <div class="col-xs-4">
                        <span class="label label-info">登録番号</span>
                    </div>
                    <div class="col-xs-8">
                        品川500に2578
                    </div>
                </div>

                <hr style="margin: 10px 0;">
                <div class="row">
                    <div class="col-xs-4">
                        <span class="label label-info">作業工程</span>
                    </div>
                    <div class="col-xs-8">
                        取外　部品取外作業
                    </div>
                </div>
                <hr style="margin: 10px 0;">
                <div class="row">
                    <div class="col-xs-4">
                        <span class="label label-info">作業状況</span>
                    </div>
                    <div class="col-xs-8">
                        作業開始
                    </div>
                </div>
            </div>

<!--            <h2>&nbsp;</h2>-->


            <!-- 状態管理ボタンエリア -->
            <div class="row" style="margin-top: 30px; margin-bottom: 20px;">
                <!-- 休憩ボタン (初期：無効) -->
                <div class="col-xs-4" style="padding-left: 5px; padding-right: 5px;">
                    <button type="button" id="btnBreak" class="btn btn-warning btn-lg btn-block" onclick="processState(&#39;break&#39;)" disabled="" style="padding: 20px 0; font-weight: bold; font-size: 1.2em;">
                        <span class="glyphicon glyphicon-time"></span><br>休憩
                    </button>
                </div>
                <!-- 中断ボタン (初期：無効) -->
                <div class="col-xs-4" style="padding-left: 5px; padding-right: 5px;">
                    <button type="button" id="btnInterrupt" class="btn btn-danger btn-lg btn-block" onclick="processState(&#39;interrupt&#39;)" disabled="" style="padding: 20px 0; font-weight: bold; font-size: 1.2em;">
                        <span class="glyphicon glyphicon-pause"></span><br>中断
                    </button>
                </div>
                <!-- 再開ボタン (初期：有効) -->
                <div class="col-xs-4" style="padding-left: 5px; padding-right: 5px;">
                    <button type="button" id="btnResume" class="btn btn-success btn-lg btn-block" onclick="processState(&#39;resume&#39;)" style="padding: 20px 0; font-weight: bold; font-size: 1.2em;">
                        <span class="glyphicon glyphicon-play"></span><br>再開
                    </button>
                </div>
            </div>
            
        </div>


        <div class="col-xs-12"> <!-- col-md-4からスマホ対応のcol-xs-12に変更 -->
            <h2>&nbsp;</h2>

        </div>

    </div>

    <!-- 下部アクションエリア -->
    <div class="row" style="margin-top: 20px; padding-bottom: 50px;">
        <div class="col-xs-4">
            <a href="javascript:history.back();" class="btn btn-default btn-lg">
                « 戻る
            </a>
        </div>
        <div class="col-xs-4 text-right">
            <div class="camera-btn-wrapper">
                <label for="cameraInput" class="camera-btn-label">
                    <span class="glyphicon glyphicon-camera"></span> 撮影
                </label>
                <input type="file" accept="image/*" capture="camera" id="cameraInput" onchange="previewImage(this)">
            </div>
        </div>
        <div class="col-xs-4">
            <a href="./BPM_Gazosentaku.html" class="btn btn-default btn-lg">
                <span class="glyphicon glyphicon-picture"></span> 選択
            </a>
        </div>

        <div class="col-xs-12">
            <p style="font-size:0.85em; color:#d9534f; margin-top:10px;">
                <span class="glyphicon glyphicon-info-sign"></span> 撮影後、写真を長押しで保存できます
            </p>
            <div id="previewContainer">
                <span id="previewPlaceholder" style="color: #999;">撮影した写真がここに表示されます</span>
                <img id="myPhoto" src="./BPM_Sagyotyudan.html" style="display:none;">
            </div>
        </div>
    </div>




<!-- パターン1：JavaScript（ファイルの最後の方に書いてください） -->
<script>
    (function() {
        const now = new Date();
        const yyyy = now.getFullYear();
        const mm = String(now.getMonth() + 1).padStart(2, '0');
        const dd = String(now.getDate()).padStart(2, '0');
        const hh = String(now.getHours()).padStart(2, '0');
        const min = String(now.getMinutes()).padStart(2, '0');

        const formatTime = yyyy + '年' + mm + '月' + dd + '日 ' + hh + ':' + min;
        
        // IDを指定して文字を書き換える
        document.getElementById('current-datetime').innerText = formatTime;
    })();

    function previewImage(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
                var img = document.getElementById('myPhoto');
                img.src = e.target.result;
                img.style.display = 'block'; // 写真を表示
            }
            reader.readAsDataURL(input.files[0]);
        }
    }

</script>

<script type="text/javascript">
    function processState(action) {
        const btnBreak = document.getElementById('btnBreak');
        const btnInterrupt = document.getElementById('btnInterrupt');
        const btnResume = document.getElementById('btnResume');
        let targetUrl = "";


        if (action === 'interrupt') {
            // name="reason" のラジオボタンでチェックされているものを取得
            const selectedReason = document.querySelector('input[name="reason"]:checked');

            if (!selectedReason) {
                // チェックされていなければメッセージを表示して処理を抜ける
                alert("中断理由を選択してください。");
                return; // ここで終了（ボタンの無効化や遷移は行わない）
            }
        }

        btnBreak.disabled = true;       // 休憩を無効に
        btnInterrupt.disabled = true;   // 中断を有効に
        btnResume.disabled = true;      // 再開は無効のまま


        if (action === 'break') {
            // 「休憩」を押したとき

            targetUrl = "./BPM_Sagyoshiji.html";
            setTimeout(function () {window.location.href = targetUrl;}, 1000); // 1000ms = 1秒

            // 必要に応じてここに「休憩開始」の時刻記録処理などを書く
            console.log("休憩開始");

        } else if (action === 'interrupt') {
            // 「中断」を押したとき

            targetUrl = "./BPM_Sagyoshiji.html";
            setTimeout(function () { window.location.href = targetUrl; }, 1000); // 1000ms = 1秒

            console.log("作業中断");

        } else if (action === 'resume') {
            // 「再開」を押したとき（初期状態に戻る）

            targetUrl = "./BPM_Sagyoshiji.html";
            setTimeout(function () { window.location.href = targetUrl; }, 1000); // 1000ms = 1秒

            console.log("作業再開");
        }
    }

    function changeRowColor(element) {
        // 1. まず、すべての行から「active-row」クラスを消す
        var items = document.querySelectorAll('#reasonGroup .list-group-item');
        for (var i = 0; i < items.length; i++) {
            items[i].classList.remove('active-row');
        }

        // 2. クリックされた行（element）だけに「active-row」クラスをつける
        element.classList.add('active-row');

        // 3. (補足) ラジオボタン自体にもチェックを入れる（labelで囲っているので自動ですが念のため）
        var radio = element.querySelector('input[type="radio"]');
        if (radio) {
            radio.checked = true;
        }
    }
</script>


            <hr>
            <footer>
                <p>© 2026 - BP Management System for mobile</p>
            </footer>
        </div>
    </form>


</body></html>